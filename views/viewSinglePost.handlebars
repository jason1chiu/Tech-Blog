<div class="container mt-5">
  <div class="row">
    <div class="col-md-8">
      <h1 class="mb-3">{{post.title}}</h1>
      <p class="lead">Posted by {{post.user.username}} on {{format_date post.created_at}}</p>
      <hr>
      <p>{{post.description}}</p>
    </div>
    <div class="col-md-4">
      <div class="card">
        <div class="card-body">
          <h5 class="card-title">Post Details</h5>
          <p class="card-text">Posted by {{post.user.username}} on {{format_date post.created_at}}</p>
          <p class="card-text">{{post.comments.length}} {{format_plural "comment" post.comments.length}}</p>
        </div>
      </div>
    </div>
  </div>

  <div class="row mt-5">
    <div class="col-md-8">
      <h2 class="mb-3">Comments</h2>
      {{#if comments}}
      {{#each comments}}
      <div class="card mb-3">
        <div class="card-body">
          <h5 class="card-title">{{user.username}}</h5>
          <p class="card-text">{{this.body}}</p>
          <p class="card-text"><small class="text-muted">{{format_date this.created_at}}</small></p>
        </div>
      </div>
      {{/each}}
      {{else}}
      <p>No comments yet.</p>
      {{/if}}

      {{#if loggedIn}}
      <h2 class="mt-5 mb-3">Add a Comment</h2>
      <form class="comment-form">
        <div class="form-group">
          <textarea class="form-control" name="body" placeholder="Write your comment here" rows="3"></textarea>
        </div>
        <button type="submit" class="btn btn-primary">Submit</button>
      </form>
      {{/if}}
    </div>
  </div>
</div>

<script src="../assets/js/viewSinglePost.js"></script>